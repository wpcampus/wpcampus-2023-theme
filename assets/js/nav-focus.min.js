const KEYMAP={TAB:9};function initNavigation(){initNavToggleSubmenus()}function initNavToggleSubmenus(){const navTOGGLE=document.querySelectorAll(".nav--toggle-sub");if(navTOGGLE.length)for(let i=0;i<navTOGGLE.length;i++)initEachNavToggleSubmenu(navTOGGLE[i])}function initEachNavToggleSubmenu(nav){const SUBMENUS=nav.querySelectorAll(".nav__item ul.nav__item__sub");if(!SUBMENUS.length)return;const dropdownButton=getDropdownButton();for(let i=0;i<SUBMENUS.length;i++){const parentMenuItem=SUBMENUS[i].parentNode;let dropdown=parentMenuItem.querySelector(".dropdown");if(!dropdown){(dropdown=document.createElement("span")).classList.add("dropdown");const dropdownSymbol=document.createElement("span");dropdownSymbol.classList.add("dropdown-symbol"),dropdown.appendChild(dropdownSymbol),SUBMENUS[i].parentNode.insertBefore(dropdown,SUBMENUS[i])}const thisDropdownButton=dropdownButton.cloneNode(!0);thisDropdownButton.innerHTML=dropdown.innerHTML,dropdown.parentNode.replaceChild(thisDropdownButton,dropdown),thisDropdownButton.addEventListener("click",e=>{toggleSubMenu(e.target.parentNode)}),parentMenuItem.addEventListener("mouseleave",e=>{toggleSubMenu(e.target,!1)}),parentMenuItem.querySelector("a").addEventListener("focus",e=>{const parentMenuItemsToggled=e.target.parentNode.parentNode.querySelectorAll("li.nav-item--toggled-on");for(let j=0;j<parentMenuItemsToggled.length;j++)toggleSubMenu(parentMenuItemsToggled[j],!1)}),SUBMENUS[i].addEventListener("keydown",e=>{const focusSelector="ul.toggle-show > li > a, ul.toggle-show > li > button";KEYMAP.TAB===e.keyCode&&(e.shiftKey?isfirstFocusableElement(e.target,document.activeElement,focusSelector)&&toggleSubMenu(e.target.parentNode,!1):islastFocusableElement(e.target,document.activeElement,focusSelector)&&toggleSubMenu(e.target.parentNode,!1))}),SUBMENUS[i].parentNode.classList.add("nav-item--has-toggle")}}function toggleSubMenu(parentMenuItem,forceToggle){const toggleButton=parentMenuItem.querySelector(".dropdown-toggle"),subMenu=parentMenuItem.querySelector("ul");let parentMenuItemToggled=parentMenuItem.classList.contains("nav-item--toggled-on");if(void 0!==forceToggle&&"boolean"==typeof forceToggle&&(parentMenuItemToggled=!forceToggle),toggleButton.setAttribute("aria-expanded",(!parentMenuItemToggled).toString()),parentMenuItemToggled){parentMenuItem.classList.remove("nav-item--toggled-on"),subMenu.classList.remove("toggle-show"),toggleButton.setAttribute("aria-label",wp_nav_focus.expand);const subMenuItemsToggled=parentMenuItem.querySelectorAll(".nav-item--toggled-on");for(let i=0;i<subMenuItemsToggled.length;i++)toggleSubMenu(subMenuItemsToggled[i],!1)}else{const parentMenuItemsToggled=parentMenuItem.parentNode.querySelectorAll("li.nav-item--toggled-on");for(let i=0;i<parentMenuItemsToggled.length;i++)toggleSubMenu(parentMenuItemsToggled[i],!1);parentMenuItem.classList.add("nav-item--toggled-on"),subMenu.classList.add("toggle-show"),toggleButton.setAttribute("aria-label",wp_nav_focus.collapse)}}function getDropdownButton(){const dropdownButton=document.createElement("button");return dropdownButton.classList.add("dropdown-toggle"),dropdownButton.setAttribute("aria-expanded","false"),dropdownButton.setAttribute("aria-label",wp_nav_focus.expand),dropdownButton}function isfirstFocusableElement(container,element,focusSelector){const focusableElements=container.querySelectorAll(focusSelector);return 0<focusableElements.length&&element===focusableElements[0]}function islastFocusableElement(container,element,focusSelector){const focusableElements=container.querySelectorAll(focusSelector);return 0<focusableElements.length&&element===focusableElements[focusableElements.length-1]}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initNavigation):initNavigation();